---
/* header.astro */
/* Frontmatter vacío */
---

<header class="bg-transparent dark:bg-gray-900 relative top-0 w-full z-10">
  <!-- Fondo degradado superior: elemento decorativo posicionado en la parte alta -->
  <div class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80" aria-hidden="true">
    <div class="relative left-[calc(50%-11rem)] aspect-1155/678 w-[36.125rem] -translate-x-1/2 rotate-[40deg]
                bg-gradient-to-tr from-[#cbfbf1] to-[#009689] dark:from-[#1f3a44] dark:to-[#2dd4bf] opacity-30 
                sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
         style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 
                                      60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 
                                      0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)">
    </div>
  </div>
  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <div class="text-2xl font-bold text-teal-600 dark:text-teal-400 font-poppins">Dev</div>
      <nav class="hidden md:flex space-x-6">
        <a href="#proyectos" class="text-teal-600 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-400 transition font-poppins">Proyectos</a>
        <a href="#educacion" class="text-teal-600 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-400 transition font-poppins">Educación</a>
        <a href="#sobre-mi" class="text-teal-600 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-400 transition font-poppins">Sobre Mi</a>
        <a href="#contacto" class="text-teal-600 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-400 transition font-poppins">Contacto</a>
      </nav>
      <div class="flex items-center gap-4">
        <!-- Botón de modo oscuro -->
        <button id="theme-toggle-header" class="p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:text-teal-700 dark:hover:text-teal-400 transition" aria-label="Alternar modo oscuro">
          <svg id="sun-icon-header" class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
          </svg>
          <svg id="moon-icon-header" class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
          </svg>
        </button>
        <!-- Botón del menú móvil -->
        <div class="md:hidden">
          <button id="menu-btn" class="rounded bg-gray-100 dark:bg-gray-800 p-2 text-gray-600 dark:text-gray-300 hover:text-teal-700 dark:hover:text-teal-400 focus:outline-none" aria-label="Abrir menú">
            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <nav id="mobile-menu" class="hidden md:hidden bg-black/50 dark:bg-gray-800/80 shadow-sm p-4 rounded-2xl">
      <a href="#proyectos" class="block py-2 text-white dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400 transition font-poppins">Proyectos</a>
      <a href="#educacion" class="block py-2 text-white dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400 transition font-poppins">Educación</a>
      <a href="#sobre-mi" class="block py-2 text-white dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400 transition font-poppins">Sobre Mi</a>
      <a href="#contacto" class="block py-2 text-white dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400 transition font-poppins">Contacto</a>
    </nav>
  </div>
</header>

<style>
  .font-poppins {
    font-family: 'Poppins', sans-serif;
  }
</style>

<script is:inline>
  // Manejo del menú móvil
  document.getElementById('menu-btn').addEventListener('click', () => {
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenu.classList.toggle('hidden');
  });

  // Función para actualizar los íconos en ambos toggles
  function updateThemeIcons(isDark) {
    const sunIcons = [document.getElementById('sun-icon-header'), document.getElementById('sun-icon-floating')];
    const moonIcons = [document.getElementById('moon-icon-header'), document.getElementById('moon-icon-floating')];
    sunIcons.forEach(icon => icon && icon.classList.toggle('hidden', isDark));
    moonIcons.forEach(icon => icon && icon.classList.toggle('hidden', !isDark));
  }

  // Estado inicial del tema
  const htmlElement = document.documentElement;
  if (localStorage.getItem('theme') === 'dark' || 
      (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    htmlElement.classList.add('dark');
    updateThemeIcons(true);
  } else {
    htmlElement.classList.remove('dark');
    updateThemeIcons(false);
  }

  // Toggle desde el header
  document.getElementById('theme-toggle-header').addEventListener('click', () => {
    htmlElement.classList.toggle('dark');
    const isDark = htmlElement.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateThemeIcons(isDark);
  });
</script>